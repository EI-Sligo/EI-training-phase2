<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 2: Conduit & Trunking Systems (Master)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@300;500;700&family=Roboto:wght@300;400;500&display=swap');

        :root {
            --safety-yellow: #FFD700;
            --industrial-grey: #2d3748;
            --steel-blue: #4a5568;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #1a202c;
            color: white;
            overflow: hidden;
        }

        h1, h2, h3, .brand-font {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
        }

        .slide {
            display: none;
            height: 100vh;
            padding: 2rem 4rem;
            flex-direction: column;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            overflow-y: auto;
        }

        .slide.active {
            display: flex;
            opacity: 1;
        }

        .btn-nav {
            background-color: var(--safety-yellow);
            color: black;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.25rem;
            transition: all 0.3s;
            font-family: 'Oswald', sans-serif;
            cursor: pointer;
            border: none;
        }

        .btn-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(255, 215, 0, 0.3);
        }

        .card {
            background-color: #2d3748;
            border-left: 4px solid var(--safety-yellow);
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a202c; }
        ::-webkit-scrollbar-thumb { background: #4a5568; border-radius: 4px; }
        
        .hazard-stripe {
            background: repeating-linear-gradient(45deg, #000, #000 10px, #FFD700 10px, #FFD700 20px);
            height: 10px;
            width: 100%;
        }

        .progress-bar {
            height: 4px;
            background: var(--safety-yellow);
            width: 0%;
            transition: width 0.3s;
            position: fixed;
            bottom: 0;
            left: 0;
            z-index: 50;
        }
        
        table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; font-size: 0.9rem; }
        th, td { border: 1px solid #4a5568; padding: 0.5rem; text-align: left; }
        th { background-color: #2d3748; color: var(--safety-yellow); }
        tr:nth-child(even) { background-color: #232d3f; }

        .img-box {
            height: 250px;
            overflow: hidden;
            border-radius: 0.5rem;
            border: 2px solid #4a5568;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .quiz-btn {
            width: 100%;
            text-align: left;
            padding: 12px;
            margin-bottom: 8px;
            background-color: #4a5568;
            border-radius: 0.25rem;
            transition: background-color 0.2s;
            font-size: 0.95rem;
        }
        .quiz-btn:hover {
            background-color: #718096;
        }
        .correct { background-color: #48bb78 !important; }
        .incorrect { background-color: #f56565 !important; }
    </style>
</head>
<body>

    <div class="hazard-stripe fixed top-0 z-50"></div>

 <!-- Top Right Controls -->
    <div class="fixed top-4 right-4 z-50 flex gap-2">
        <button onclick="saveAndExit()" class="btn-save">
            <i class="fas fa-save mr-2"></i> Save & Exit
        </button>
    </div>

    <div class="fixed bottom-8 right-8 z-50 flex gap-4">
        <button onclick="prevSlide()" class="btn-nav"><i class="fas fa-chevron-left"></i> PREV</button>
        <button onclick="nextSlide()" class="btn-nav">NEXT <i class="fas fa-chevron-right"></i></button>
    </div>
    
    <div class="fixed bottom-8 left-8 z-50 text-gray-400 brand-font text-xl">
        <span id="page-indicator">1</span> / <span id="total-pages">31</span>
    </div>

    <div class="progress-bar" id="progress"></div>

    <!-- SLIDE 1: Title -->
    <div class="slide active" id="slide-1">
        <div class="max-w-5xl mx-auto text-center">
            <div class="text-yellow-400 text-xl mb-4 tracking-widest brand-font">Phase 2 Electrical Instrumentation</div>
            <h1 class="text-6xl font-bold mb-6">Unit 2: Conduit & Trunking Systems</h1>
            <div class="w-24 h-2 bg-yellow-400 mx-auto mb-8"></div>
            <p class="text-xl text-gray-300">Theory Module</p>
			<!-- Resume Prompt (Hidden by default) -->
            <div id="resume-prompt" class="hidden mt-8 bg-gray-800 p-6 rounded border border-green-500 inline-block text-left">
                <p class="text-lg mb-4"><i class="fas fa-history text-green-400 mr-2"></i> You have a saved session.</p>
                <div class="flex gap-4">
                    <button onclick="resumeSession()" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded font-bold transition">
                        Resume from Slide <span id="saved-slide-num"></span>
                    </button>
                    <button onclick="clearSession()" class="px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded transition">
                        Start Over
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 2: Learning Outcomes -->
    <div class="slide" id="slide-2">
        <div class="max-w-5xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Learning Outcomes</h2>
            <div class="grid grid-cols-1 gap-6">
                <div class="card">
                    <h3 class="text-xl text-yellow-400 mb-2">Outcome 1: Conduit</h3>
                    <p class="text-gray-300">Select and use the correct tools, equipment, and techniques required to form, terminate, and erect <strong>steel and plastic conduit systems</strong>.</p>
                </div>
                <div class="card">
                    <h3 class="text-xl text-yellow-400 mb-2">Outcome 2: Trunking</h3>
                    <p class="text-gray-300">Select and use the correct tools, equipment, and techniques required to form and erect <strong>steel trunking systems</strong>.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 3: ETCI Rules -->
    <div class="slide" id="slide-3">
        <div class="max-w-6xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">ETCI Rules: The Foundation</h2>
            <div class="bg-gray-800 p-6 rounded border border-gray-600">
                <h3 class="text-2xl font-bold text-blue-400 mb-4">520 & 521: General Principles</h3>
                <p class="mb-4">A wiring system consists of the cable <strong>AND</strong> the enclosure (conduit/trunking) that protects it.</p>
                <ul class="list-disc pl-5 text-gray-300 space-y-2">
                    <li><strong>521.6:</strong> General requirements for conduit/trunking.</li>
                    <li><strong>521.5 (Eddy Currents):</strong> All live conductors of an AC circuit (Phase, Neutral, Earth) must be enclosed in the <strong>same</strong> steel conduit. Failure to do this causes the conduit to heat up due to magnetic induction.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- SLIDE 4: External Influences (522) -->
    <div class="slide" id="slide-4">
        <div class="max-w-6xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">522: Selection by Environment</h2>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div class="card py-2"><strong>522.1 Temp (AA):</strong> PVC brittle in cold (-5°C). Steel unaffected.</div>
                <div class="card py-2"><strong>522.3 Water (AD):</strong> AD4 (Splash) requires gaskets.</div>
                <div class="card py-2"><strong>522.5 Corrosion (AF):</strong> Chemical plants. Use PVC or Stainless.</div>
                <div class="card py-2"><strong>522.6 Impact (AG):</strong> Heavy mechanical damage. Use Galvanised Steel (AG3).</div>
                <div class="card py-2"><strong>522.7 Vibration (AH):</strong> Motors. Use Flexible Conduit.</div>
                <div class="card py-2"><strong>522.15 Structure:</strong> Building movement requires Expansion Couplers.</div>
            </div>
        </div>
    </div>

    <!-- SLIDE 5: Steel Conduit Overview -->
    <div class="slide" id="slide-5">
        <div class="max-w-6xl mx-auto w-full grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
                <h2 class="text-3xl text-yellow-400 mb-4">Steel Conduit</h2>
                <h3 class="text-xl font-bold mb-2">Class 4 (Galvanised)</h3>
                <p class="mb-4 text-gray-300">Heavy gauge, hot-dipped zinc. Prevents corrosion. Outdoor use.</p>
                <h3 class="text-xl font-bold mb-2">Class 2 (Black Enamel)</h3>
                <p class="mb-4 text-gray-300">Light protection. Indoor dry use only. <strong>Must scrape paint for earth continuity.</strong></p>
                <div class="p-3 bg-blue-900/30 border border-blue-500 rounded">
                    <strong>Standard Length:</strong> 3 Metres.<br>
                    <strong>Sizes:</strong> 20mm, 25mm, 32mm.
                </div>
            </div>
            <div class="img-box">
                <img src="https://barton-engineering.co.uk/wp-content/uploads/2025/04/6-min-1024x683.jpg" alt="Steel Conduit">
            </div>
        </div>
    </div>

    <!-- SLIDE 6: Steel Pros & Cons -->
    <div class="slide" id="slide-6">
        <div class="max-w-5xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Steel Conduit: Analysis</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card border-l-4 border-green-500">
                    <h3 class="text-2xl font-bold mb-4 text-green-400">Advantages</h3>
                    <ul class="list-disc pl-5 space-y-2 text-sm">
                        <li><strong>Mechanical Protection:</strong> Best against impact (AG3).</li>
                        <li><strong>Earthing:</strong> Can be used as a Circuit Protective Conductor (CPC).</li>
                        <li><strong>Fire:</strong> Non-combustible. Minimises fire risk.</li>
                        <li><strong>Rewiring:</strong> Easy to draw new cables in.</li>
                    </ul>
                </div>
                <div class="card border-l-4 border-red-500">
                    <h3 class="text-2xl font-bold mb-4 text-red-400">Disadvantages</h3>
                    <ul class="list-disc pl-5 space-y-2 text-sm">
                        <li>Expensive & Heavy.</li>
                        <li>Time consuming (Threading).</li>
                        <li>Subject to internal condensation.</li>
                        <li>Corrodes in acidic environments.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 7: KC1 -->
    <div class="slide" id="slide-7">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 1</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. Why is conduit galvanised?</p>
                <button onclick="check(this, false)" class="quiz-btn">To improve appearance</button>
                <button onclick="check(this, true)" class="quiz-btn">To prevent corrosion</button>
                <button onclick="check(this, false)" class="quiz-btn">For mechanical protection</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">2. Advantages of steel conduit include?</p>
                <button onclick="check(this, false)" class="quiz-btn">Cheap and light</button>
                <button onclick="check(this, true)" class="quiz-btn">Mechanical protection, CPC, Fire safety</button>
                <button onclick="check(this, false)" class="quiz-btn">Corrosion resistance in acids</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">3. Conductors of an AC circuit are grouped to prevent? </p>
                <button onclick="check(this, true)" class="quiz-btn">Eddy currents</button>
                <button onclick="check(this, false)" class="quiz-btn">Corrosion</button>
                <button onclick="check(this, false)" class="quiz-btn">Condensation</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 8: PVC Conduit -->
    <div class="slide" id="slide-8">
        <div class="max-w-6xl mx-auto w-full grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
                <h2 class="text-3xl text-yellow-400 mb-4">PVC Conduit</h2>
                <h3 class="text-xl font-bold mb-2">Overview</h3>
                <ul class="list-disc pl-5 mb-4 text-gray-300">
                    <li>Polyvinyl Chloride. Rigid.</li>
                    <li>Light Gauge (Plaster) / Heavy Gauge (Surface).</li>
                    <li><strong>Standard:</strong> 3m Lengths. Sizes 20mm, 25mm.</li>
                </ul>
                <h3 class="text-xl font-bold mb-2 text-red-400">Temperature Limits</h3>
                <ul class="list-disc pl-5 text-gray-300">
                    <li>Becomes brittle in cold (below -5°C).</li>
                    <li><strong>Maximum Operating Temp:</strong> PVC conduit should not be used where the temperature is likely to exceed <strong>60°C</strong>.</li>
                </ul>
                <h3 class="text-xl font-bold mb-2">Thermal Properties</h3>
                <p class="text-gray-300">Expands <strong>5 times</strong> more than steel. Becomes brittle in cold.</p>
            </div>
            <div class="img-box">
                <img src="https://cf.shopee.com.my/file/6ecc1f88818186f3682f0d23ab67ebcc" alt="PVC Conduit">
            </div>
        </div>
    </div>

    <!-- SLIDE 9: PVC Expansion -->
    <div class="slide" id="slide-9">
        <div class="max-w-5xl mx-auto w-full text-center">
            <h2 class="text-4xl text-yellow-400 mb-6">PVC Expansion</h2>
            <div class="bg-gray-800 p-8 rounded border border-gray-600">
                <i class="fas fa-arrows-alt-h text-6xl text-blue-400 mb-6"></i>
                <p class="text-2xl mb-6">Because PVC expands significantly with heat, long straight runs must have <strong>Expansion Couplers</strong> installed.</p>
                <div class="bg-yellow-900/30 p-4 rounded border-l-4 border-yellow-500 text-left">
                    <strong>The Rule (Ireland):</strong> Expansion couplers must be used every <strong>6 Metres</strong> (max) on straight surface runs.
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 10: KC2 -->
    <div class="slide" id="slide-10">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 2</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. What is an advantage of plastic over metal? </p>
                <button onclick="check(this, false)" class="quiz-btn">Better mechanical protection</button>
                <button onclick="check(this, true)" class="quiz-btn">More resistance to corrosion</button>
                <button onclick="check(this, false)" class="quiz-btn">Can be used as a CPC</button>
            </div>
			<div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. PVC conduit should not be used where temperature exceeds?</p>
                <button onclick="check(this, false)" class="quiz-btn">45°C</button>
                <button onclick="check(this, true)" class="quiz-btn">60°C</button>
                <button onclick="check(this, false)" class="quiz-btn">70°C</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">2. Expansion couplers on PVC must be used every...? </p>
                <button onclick="check(this, false)" class="quiz-btn">3 Meters</button>
                <button onclick="check(this, false)" class="quiz-btn">4 Meters</button>
                <button onclick="check(this, true)" class="quiz-btn">6 Meters</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 11: Cutting & Threading -->
    <div class="slide" id="slide-11">
        <div class="max-w-6xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Termination: Steel</h2>
            <div class="grid grid-cols-3 gap-6">
                <div class="card">
                    <h4 class="font-bold text-xl mb-2">1. Cutting</h4>
                    <p class="text-sm text-gray-300">Use a <strong>Pipevice</strong> and a 32 TPI Hacksaw. Cut square.</p>
                </div>
                <div class="card">
                    <h4 class="font-bold text-xl mb-2">2. Threading</h4>
                    <p class="text-sm text-gray-300">Use <strong>Stocks & Dies</strong>. Use Trefolex fluid. Reverse turn to break swarf.</p>
                </div>
                <div class="card border border-red-500">
                    <h4 class="font-bold text-xl mb-2 text-red-400">3. Deburring</h4>
                    <p class="text-sm text-gray-300"><strong>Essential:</strong> Remove internal burrs with a reamer. Sharp edges strip cables.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 12: Jointing & Running Couplers -->
    <div class="slide" id="slide-12">
        <div class="max-w-6xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Jointing Techniques</h2>
            <div class="grid grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-2">Standard Joints</h3>
                    <p class="text-gray-300 mb-4">Must be screwed up tightly to ensure <strong>Good Earth Continuity</strong> and mechanical strength.</p>
                </div>
                <div class="card bg-gray-900">
                    <h3 class="text-xl font-bold mb-2 text-yellow-400">Running Coupler</h3>
                    <p class="text-sm mb-2"><strong>Used when:</strong> Neither conduit end can be turned (e.g. joining two fixed conduits).</p>
                    <ol class="list-decimal pl-5 text-sm text-gray-400">
                        <li>Thread one tube extra long.</li>
                        <li>Screw locknut & coupler fully on.</li>
                        <li>Butt tubes together.</li>
                        <li>Wind coupler back onto second tube.</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 13: KC3 -->
    <div class="slide" id="slide-13">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 3</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. Conduits are screwed up tightly to ensure? </p>
                <button onclick="check(this, false)" class="quiz-btn">Water ingress prevention</button>
                <button onclick="check(this, true)" class="quiz-btn">Good earth continuity</button>
                <button onclick="check(this, false)" class="quiz-btn">Eddy current prevention</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">2. A running coupler is used where? </p>
                <button onclick="check(this, false)" class="quiz-btn">The conduit is outside</button>
                <button onclick="check(this, true)" class="quiz-btn">Neither conduit end can be turned</button>
                <button onclick="check(this, false)" class="quiz-btn">There are more than 2 bends</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">3. After threading conduit, you must...? </p>
                <button onclick="check(this, true)" class="quiz-btn">Remove internal burrs</button>
                <button onclick="check(this, false)" class="quiz-btn">Paint joints</button>
                <button onclick="check(this, false)" class="quiz-btn">Use a coupler</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 14: Bending Steel -->
    <div class="slide" id="slide-14">
        <div class="max-w-6xl mx-auto w-full grid grid-cols-2 gap-8">
            <div>
                <h2 class="text-3xl text-yellow-400 mb-4">Bending Steel</h2>
                <ul class="list-disc pl-5 text-gray-300 space-y-3">
                    <li>Use a vice-mounted bending machine.</li>
                    <li><strong>90° Bend:</strong> Standard corner.</li>
                    <li><strong>Offset (Set):</strong> To enter a box flush or clear obstacles.</li>
                    <li><strong>Bridge (Crossover):</strong> Jumping another pipe.</li>
                </ul>
            </div>
            <div class="img-box">
                <img src="https://www.wonkeedonkeetools.co.uk/media/wysiwyg/PB-Pipe-Benders-Amy/PB13/08PB-13-1.JPG" alt="Bending Machine">
            </div>
        </div>
    </div>

    <!-- SLIDE 15: Bending Radius -->
    <div class="slide" id="slide-15">
        <div class="max-w-5xl mx-auto w-full text-center">
            <h2 class="text-4xl text-yellow-400 mb-6">Minimum Bending Radius</h2>
            <div class="bg-gray-800 p-8 rounded border border-blue-500">
                <p class="text-2xl mb-4">The Rule: <strong>2.5 x Diameter</strong></p>
                <p class="text-gray-300 mb-6">The minimum internal radius of a steel conduit bend.</p>
                <div class="bg-gray-900 p-4 rounded text-left">
                    <p class="font-bold text-yellow-400">Example (20mm Conduit):</p>
                    <p class="text-xl">20mm x 2.5 = <strong>50mm</strong></p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 16: KC4 -->
    <div class="slide" id="slide-16">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 4</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. What is the minimum internal radius of 20mm steel conduit? </p>
                <button onclick="check(this, false)" class="quiz-btn">100mm</button>
                <button onclick="check(this, true)" class="quiz-btn">50mm</button>
                <button onclick="check(this, false)" class="quiz-btn">25mm</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 17: Steel Trunking Overview -->
    <div class="slide" id="slide-17">
        <div class="max-w-6xl mx-auto w-full grid grid-cols-2 gap-8">
            <div>
                <h2 class="text-3xl text-yellow-400 mb-4">Steel Trunking</h2>
                <ul class="list-disc pl-5 text-gray-300 space-y-2">
                    <li><strong>Sizes:</strong> 50x50, 75x75, 100x100mm etc.</li>
                    <li><strong>Use:</strong> Main distribution, multiple cables.</li>
                    <li><strong>Flexibility:</strong> Easy to add new circuits later.</li>
                </ul>
            </div>
            <div class="img-box">
                <img src="https://www.electrixinternational.com/Images/Article/large/how-to-cut-stainless-steel-trunking-by-electrix_Article-LG.jpg" alt="Trunking">
            </div>
        </div>
    </div>

    <!-- SLIDE 18: Trunking Installation Rules -->
    <div class="slide" id="slide-18">
        <div class="max-w-5xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Installation Rules</h2>
            <div class="grid grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">Segregation</h3>
                    <p class="text-sm text-gray-300">Power cables (230V) and Data cables can run in the same trunking <strong>ONLY IF</strong> the trunking is segregated (partitioned).</p>
					 <p class="text-xs text-yellow-400 bg-black p-2 rounded"><strong>Exception:</strong> Extra low voltage circuits CAN be run in the same conduit as mains IF the cable is insulated to the highest voltage present (i.e. rated for 230V).</p>
                </div>
                <div class="card border-red-500 border">
                    <h3 class="text-xl font-bold mb-2 text-red-400">Fire Barriers</h3>
                    <p class="text-sm text-gray-300">When trunking passes through a wall into another room, it <strong>MUST</strong> have a fire barrier (internal seal) to stop smoke/fire spread.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 19: KC5 -->
    <div class="slide" id="slide-19">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 5</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. Power and Data cables can run in trunking once...? </p>
                <button onclick="check(this, false)" class="quiz-btn">Data cables are screened</button>
                <button onclick="check(this, true)" class="quiz-btn">The trunking is segregated</button>
                <button onclick="check(this, false)" class="quiz-btn">Power is low voltage</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">2. When trunking passes through a wall it must have? </p>
                <button onclick="check(this, false)" class="quiz-btn">Ventilation holes</button>
                <button onclick="check(this, true)" class="quiz-btn">A fire barrier</button>
                <button onclick="check(this, false)" class="quiz-btn">Supports</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 20: Trunking Earthing -->
    <div class="slide" id="slide-20">
        <div class="max-w-5xl mx-auto w-full text-center">
            <h2 class="text-4xl text-yellow-400 mb-6">Trunking Earthing</h2>
            <div class="bg-gray-800 p-8 rounded border border-green-500">
                <i class="fas fa-link text-6xl text-green-400 mb-4"></i>
                <h3 class="text-2xl mb-4">Copper Straps (Links)</h3>
                <p class="text-xl mb-4">Trunking straps are bolted across every joint.</p>
                <p class="text-gray-400"><strong>Purpose:</strong> To ensure Earth Continuity.</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 21: KC6 -->
    <div class="slide" id="slide-21">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 6</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. What are trunking straps used for? </p>
                <button onclick="check(this, false)" class="quiz-btn">Joining trunking</button>
                <button onclick="check(this, true)" class="quiz-btn">Earth continuity</button>
                <button onclick="check(this, false)" class="quiz-btn">Mechanical protection</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 22: Cable Capacity (Space Factor) -->
    <div class="slide" id="slide-22">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-4xl text-yellow-400 mb-6">Space Factor</h2>
            <div class="bg-gray-800 p-8 rounded border border-blue-500">
                <div class="text-8xl font-bold mb-4 text-blue-400">45%</div>
                <p class="text-xl">The maximum amount of space that can be occupied in trunking.</p>
                <p class="text-sm text-gray-400 mt-4">Allows for heat dissipation and safe installation.</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 23: How to Calculate Capacity -->
    <div class="slide" id="slide-23">
        <div class="max-w-5xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">How to Calculate</h2>
            <p class="mb-4 text-gray-300">We use the Factor Method (Annex 52A).</p>
            <div class="grid grid-cols-2 gap-8 text-sm">
                <div class="bg-gray-800 p-4 rounded">
                    <h4 class="font-bold text-green-400">Step 1</h4>
                    <p>Find the factor for the cable type and size.</p>
                </div>
                <div class="bg-gray-800 p-4 rounded">
                    <h4 class="font-bold text-green-400">Step 2</h4>
                    <p>Find the factor for the conduit/trunking size.</p>
                </div>
                <div class="bg-gray-800 p-4 rounded col-span-2 text-center">
                    <h4 class="font-bold text-yellow-400">Rule</h4>
                    <p>Total Cable Factors MUST BE LESS than Conduit Factor.</p>
					 <div class="mt-4 bg-gray-800 p-4 rounded">
                <h3 class="font-bold text-yellow-400 mb-2">Common Cable Factors (Straight Run)</h3>
                <table class="w-full text-sm">
                    <tr><th>Size</th><th>Factor</th></tr>
                    <tr><td>1.5mm²</td><td>22</td></tr>
                    <tr><td>2.5mm²</td><td>30</td></tr>
                    <tr><td>4.0mm² (Stranded)</td><td>58</td></tr>
                    <tr><td>6.0mm²</td><td>88</td></tr>
                </table>
            </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 24: Calculation 1 (Trunking) -->
    <div class="slide" id="slide-24">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Calculation 1 (Trunking)</h2>
            <div class="card">
                <p class="text-xl mb-4"><strong>Question:</strong> How many 2.5mm stranded PVC cables can fit in 75x25 trunking? </p>
                <div class="bg-gray-900 p-4 rounded text-gray-300 space-y-2">
                    <p>• 75x25 Trunking Factor (Approx): <strong>~2300</strong></p>
                    <p>• 2.5mm Cable Factor: <strong>~30</strong></p>
                    <p>• Calculation: 2300 / 30 = 76 (Theoretical)</p>
                    <p>• <strong>Quiz Answer:</strong> Based on standard tables, the allowed number is <strong>66</strong>.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 25: Calculation 2 (Conduit Bends) -->
    <div class="slide" id="slide-25">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Calculation 2 (Conduit + Bends)</h2>
            <div class="card">
                <p class="text-xl mb-4"><strong>Question:</strong> How many 4mm PVC cables in 6m of 25mm conduit with 2 bends? </p>
                <div class="bg-gray-900 p-4 rounded text-gray-300">
                    <p class="mb-2">Bends reduce the capacity significantly.</p>
                    <p><strong>Correct Answer: 10</strong></p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 26: Calculation 3 (Straight Conduit) -->
    <div class="slide" id="slide-26">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6">Calculation 3 (Straight)</h2>
            <div class="card">
                <p class="text-xl mb-4"><strong>Question:</strong> How many 1.5mm PVC cables in a 2 metre straight run of 20mm conduit? </p>
                <div class="bg-gray-900 p-4 rounded text-gray-300">
                    <p class="mb-2">Straight runs allow for more cables.</p>
                    <p><strong>Correct Answer: 14</strong></p>
                </div>
            </div>
        </div>
    </div>
	<!-- SLIDE 27: Calculation 3 (Counting Conductors) -->
    <div class="slide" id="slide-27">
        <div class="max-w-6xl mx-auto w-full grid grid-cols-2 gap-8 items-center">
            <div>
                <h2 class="text-3xl text-yellow-400 mb-4">Counting Conductors</h2>
                <p class="text-gray-300 mb-4">When calculating capacity or wiring, you must count <strong>every single wire</strong> in the conduit.</p>
                <div class="card bg-blue-900/30 border-blue-500">
                    <h4 class="font-bold mb-2">Standard Lighting Circuit (Loop-In)</h4>
                    <ul class="text-sm space-y-1">
                        <li>1. Phase (Live)</li>
                        <li>2. Neutral</li>
                        <li>3. Earth</li>
                        <li>4. Switched Phase (Switch Wire)</li>
                    </ul>
                    <p class="mt-2 font-bold text-xl text-white">Total = 4 Conductors</p>
                </div>
            </div>
            <div class="bg-gray-800 p-6 rounded text-center">
                <i class="fas fa-sitemap text-6xl text-gray-500 mb-4"></i>
                <p class="text-sm">Example Q5: Wiring to two fittings often requires carrying the feed (3 wires) plus a switch wire = 4 wires.</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 28: KC7 -->
    <div class="slide" id="slide-28">
        <div class="max-w-4xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Knowledge Check 7</h2>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">1. Max space occupied in trunking? </p>
                <button onclick="check(this, false)" class="quiz-btn">60%</button>
                <button onclick="check(this, true)" class="quiz-btn">45%</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">2. Capacity: 4mm cables in 6m of 25mm conduit (2 bends)? </p>
                <button onclick="check(this, true)" class="quiz-btn">10</button>
                <button onclick="check(this, false)" class="quiz-btn">8</button>
            </div>
            <div class="bg-gray-800 p-6 rounded mb-4">
                <p class="font-bold mb-3">3. Capacity: 1.5mm cables in 2m straight 20mm conduit? </p>
                <button onclick="check(this, false)" class="quiz-btn">12</button>
                <button onclick="check(this, true)" class="quiz-btn">14</button>
            </div>
        </div>
    </div>

    <!-- SLIDE 29: Safety Criticals -->
    <div class="slide" id="slide-29">
        <div class="max-w-5xl mx-auto w-full">
            <h2 class="text-4xl text-yellow-400 mb-6 text-center">Safety Summary</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-sm">
                <div class="bg-red-900/30 p-4 rounded border border-red-500">
                    <h3 class="font-bold mb-2">1. Deburring</h3>
                    <p>Remove all sharp edges to prevent cable damage.</p>
                </div>
                <div class="bg-yellow-900/30 p-4 rounded border border-yellow-500">
                    <h3 class="font-bold mb-2">2. Earthing</h3>
                    <p>Tighten all joints. Use straps on trunking.</p>
                </div>
                <div class="bg-blue-900/30 p-4 rounded border border-blue-500">
                    <h3 class="font-bold mb-2">3. Eddy Currents</h3>
                    <p>Group AC conductors in same conduit.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 30: Module Complete -->
    <div class="slide" id="slide-30">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-6xl text-green-400 mb-6"><i class="fas fa-check-circle"></i></h2>
            <h1 class="text-5xl font-bold mb-6">Module Complete</h1>
            <div class="text-left bg-gray-800 p-8 rounded border border-gray-600 text-lg">
                <p class="mb-4 text-gray-400">You have covered:</p>
                <ul class="space-y-2 text-gray-300">
                    <li>✓ ETCI Rules 520, 521, 522.</li>
                    <li>✓ Selection of Conduit & Trunking.</li>
                    <li>✓ Fabrication (Bends, Sets, Threads).</li>
                    <li>✓ All Quiz Questions answered.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- SLIDE 31: End -->
    <div class="slide" id="slide-31">
        <div class="text-center">
            <h1 class="text-4xl text-yellow-400 mb-4">Phase 2 Electrical Instrumentation</h1>
            <p class="text-xl text-gray-400 mb-8">Unit 2 Complete</p>
            <button onclick="goToSlide(1)" class="px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded">Restart Presentation</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 31;
		
		 // Check for saved progress
        document.addEventListener('DOMContentLoaded', () => {
            const savedSlide = localStorage.getItem('unit23_slide');
            if(savedSlide && parseInt(savedSlide) > 1) {
                document.getElementById('resume-prompt').classList.remove('hidden');
                document.getElementById('saved-slide-num').innerText = savedSlide;
            }
        });

        function updateUI() {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.getElementById(`slide-${currentSlide}`).classList.add('active');
            document.getElementById('page-indicator').innerText = currentSlide;
            document.getElementById('progress').style.width = ((currentSlide / totalSlides) * 100) + '%';
        }

        function nextSlide() { 
            if(currentSlide < totalSlides) { 
                currentSlide++; 
                updateUI(); 
            } 
        }
        
        function prevSlide() { 
            if(currentSlide > 1) { 
                currentSlide--; 
                updateUI(); 
            } 
        }
        
        function goToSlide(n) { 
            currentSlide = n; 
            updateUI(); 
        }

        function saveAndExit() {
            localStorage.setItem('unit23_slide', currentSlide);
            if(currentSlide === totalSlides) {
                localStorage.setItem('unit23', 'completed');
            }
            window.location.href = 'Installation_Techniques_Hub.html';
        }

        function resumeSession() {
            const saved = localStorage.getItem('unit23_slide');
            if(saved) {
                currentSlide = parseInt(saved);
                document.getElementById('resume-prompt').classList.add('hidden');
                updateUI();
            }
        }

        function clearSession() {
            localStorage.removeItem('unit23_slide');
            document.getElementById('resume-prompt').classList.add('hidden');
        }

        function check(btn, isCorrect) {
            const btns = btn.parentElement.querySelectorAll('.quiz-btn');
            btns.forEach(b => {
                b.classList.remove('correct', 'incorrect');
                b.style.opacity = '0.5';
            });
            btn.style.opacity = '1';
            if(isCorrect) {
                btn.classList.add('correct');
                btn.innerHTML += ' <i class="fas fa-check float-right"></i>';
            } else {
                btn.classList.add('incorrect');
                btn.innerHTML += ' <i class="fas fa-times float-right"></i>';
            }
        }

        document.addEventListener('keydown', (e) => {
            if(e.key === "ArrowRight") nextSlide();
            if(e.key === "ArrowLeft") prevSlide();
        });

        updateUI();
    </script>
</body>
</html>